{"remainingRequest":"/Users/wusaisai/Desktop/jd/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wusaisai/Desktop/jd/src/pages/home/goods/classify.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wusaisai/Desktop/jd/src/pages/home/goods/classify.vue","mtime":1594632640617},{"path":"/Users/wusaisai/Desktop/jd/node_modules/cache-loader/dist/cjs.js","mtime":1582343728286},{"path":"/Users/wusaisai/Desktop/jd/node_modules/babel-loader/lib/index.js","mtime":1585552045769},{"path":"/Users/wusaisai/Desktop/jd/node_modules/cache-loader/dist/cjs.js","mtime":1582343728286},{"path":"/Users/wusaisai/Desktop/jd/node_modules/vue-loader/lib/index.js","mtime":1593738413446}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgICBpbXBvcnQge21hcEFjdGlvbnMsbWFwU3RhdGUsbWFwTXV0YXRpb25zfSBmcm9tICd2dWV4JwogICAgaW1wb3J0IElTY3JvbGwgZnJvbSAnLi4vLi4vLi4vYXNzZXRzL2pzL2xpYnMvaXNjcm9sbC5qcycKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICAuLi5tYXBTdGF0ZSh7CiAgICAgICAgICAgIGNsYXNzTGlzdDogc3RhdGU9PnN0YXRlLmdvb2RzLmdvb2RzCiAgICAgICAgfSkKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLi4ubWFwQWN0aW9ucyh7CiAgICAgICAgICAgIGdvb2RMaXN0OiAnZ29vZHMvZ2V0Q2xhc3NpZnknCiAgICAgICAgfSksCiAgICAgICAgLi4ubWFwTXV0YXRpb25zKHsKICAgICAgICAgICAgU0VMRUNUX0lURU06ICdnb29kcy9TRUxFQ1RfSVRFTScKICAgICAgICB9KSwKICAgICAgICBnb0JhY2soKXsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQogICAgICAgIH0sCiAgICAgICAgc2Nyb2xsUHJldmVudERlZmF1bHQoZSl7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9LAogICAgICAgIC8vIOaUueWPmOminOiJsumXrumimAogICAgICAgIGNoYW5nZUhhbmRsZShpbmRleCl7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGluZGV4KQogICAgICAgICAgICB0aGlzLlNFTEVDVF9JVEVNKHtpbmRleDppbmRleH0pCiAgICAgICAgICAgIC8vIHNjb2xsIOWKqOeUu+aViOaenAogICAgICAgICAgICAKICAgICAgICAgICAgLy8g6I635Y+W5qCH562+6auY5bqmCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHJlZnNbJ2l0ZW0nXVswXS5vZmZzZXRIZWlnaHQpCiAgICAgICAgICAgbGV0IHRvcEhlaWdodCA9IHRoaXMuJHJlZnNbJ2l0ZW0nXVswXS5vZmZzZXRIZWlnaHQqaW5kZXgKICAgICAgICAgICAKICAgICAgICAgICBsZXQgaGFsZkhlaWdodCA9IHBhcnNlSW50KHRoaXMuJHJlZnNbJ3Njcm9sbC1jbGFzc2lmeSddLm9mZnNldEhlaWdodC8zKQogICAgICAgICAgICAvLyAgICBjb25zb2xlLmxvZyhoYWxmSGVpZ2h0KQogICAgICAgICAgICBsZXQgYm90dG9tSGVpZ2h0ID0gcGFyc2VJbnQodGhpcy4kcmVmc1snc2Nyb2xsLWNsYXNzaWZ5J10uc2Nyb2xsSGVpZ2h0LXRvcEhlaWdodCkKICAgICAgICAgICAgLy8g5Lit6Ze05L2N572u5omN5omn6KGM5Yqo55S7CiAgICAgICAgICAgaWYodG9wSGVpZ2h0ID4gaGFsZkhlaWdodCAmJiBib3R0b21IZWlnaHQ+dGhpcy4kcmVmc1snc2Nyb2xsLWNsYXNzaWZ5J10ub2Zmc2V0SGVpZ2h0KXsKICAgICAgICAgICAgICAgIHRoaXMubXlTY3JvbGwuc2Nyb2xsVG8oMCwtdG9wSGVpZ2h0LDEwMDAsSVNjcm9sbC51dGlscy5lYXNlLmVsYXN0aWMpCiAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuZ29vZExpc3Qoe3N1Y2Nlc3M6KCk9PnsKICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCk9PnsKICAgICAgICAgICAgICAgIHRoaXMubXlTY3JvbGwucmVmcmVzaCgpCiAgICAgICAgICAgIH0pCiAgICAgICAgfX0pCiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICBkb2N1bWVudC50aXRsZSA9IHRoaXMuJHJvdXRlLm1ldGEudGl0bGUKICAgICAgICB0aGlzLiRyZWZzWydzY3JvbGwtY2xhc3NpZnknXS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLHRoaXMuc2Nyb2xsUHJldmVudERlZmF1bHQpCiAgICAgICAgdGhpcy5teVNjcm9sbD1uZXcgSVNjcm9sbCh0aGlzLiRyZWZzWydzY3JvbGwtY2xhc3NpZnknXSwgewogICAgICAgICAgICBzY3JvbGxYIDogZmFsc2UsCiAgICAgICAgICAgIHNjcm9sbFkgOiB0cnVlLAogICAgICAgICAgICBwcmV2ZW50RGVmYXVsdCA6IGZhbHNlCiAgICAgICAgfSk7CiAgICB9LAogICAgYmVmb3JlRGVzdHJveSgpewogICAgICAgIHRoaXMuJHJlZnNbJ3Njcm9sbC1jbGFzc2lmeSddLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsdGhpcy5zY3JvbGxQcmV2ZW50RGVmYXVsdCk7CiAgICB9Cn0K"},{"version":3,"sources":["classify.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"classify.vue","sourceRoot":"src/pages/home/goods","sourcesContent":["<template>\n    <div class=\"page\">\n        <div class='search-header'>\n            <div class='back' @click=\"goBack\"></div>\n            <div class='search'>请输入宝贝名称</div>\n        </div>\n        <div class='goods-main'>\n            <div ref=\"scroll-classify\" class='classify-wrap'>\n                <div>\n                    <div \n                    ref=\"item\" \n                    :class=\"{'classify-item':true, active:item.active}\"\n                    v-for=\"(item,index) in classList\" \n                    :key=\"index\"\n                    @click=\"changeHandle(index)\"\n                    >{{item.title}}</div>\n                    \n                </div>\n            </div>\n            <div class='goods-content'>\n                <router-view></router-view>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n    import {mapActions,mapState,mapMutations} from 'vuex'\n    import IScroll from '../../../assets/js/libs/iscroll.js'\nexport default {\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        ...mapState({\n            classList: state=>state.goods.goods\n        })\n    },\n    methods: {\n        ...mapActions({\n            goodList: 'goods/getClassify'\n        }),\n        ...mapMutations({\n            SELECT_ITEM: 'goods/SELECT_ITEM'\n        }),\n        goBack(){\n            this.$router.go(-1)\n        },\n        scrollPreventDefault(e){\n            e.preventDefault();\n        },\n        // 改变颜色问题\n        changeHandle(index){\n            // console.log(index)\n            this.SELECT_ITEM({index:index})\n            // scoll 动画效果\n            \n            // 获取标签高度\n            // console.log(this.$refs['item'][0].offsetHeight)\n           let topHeight = this.$refs['item'][0].offsetHeight*index\n           \n           let halfHeight = parseInt(this.$refs['scroll-classify'].offsetHeight/3)\n            //    console.log(halfHeight)\n            let bottomHeight = parseInt(this.$refs['scroll-classify'].scrollHeight-topHeight)\n            // 中间位置才执行动画\n           if(topHeight > halfHeight && bottomHeight>this.$refs['scroll-classify'].offsetHeight){\n                this.myScroll.scrollTo(0,-topHeight,1000,IScroll.utils.ease.elastic)\n           }\n        }\n    },\n    created() {\n        this.goodList({success:()=>{\n            this.$nextTick(()=>{\n                this.myScroll.refresh()\n            })\n        }})\n    },\n    mounted() {\n        document.title = this.$route.meta.title\n        this.$refs['scroll-classify'].addEventListener('touchmove',this.scrollPreventDefault)\n        this.myScroll=new IScroll(this.$refs['scroll-classify'], {\n            scrollX : false,\n            scrollY : true,\n            preventDefault : false\n        });\n    },\n    beforeDestroy(){\n        this.$refs['scroll-classify'].removeEventListener(\"touchmove\",this.scrollPreventDefault);\n    }\n}\n</script>\n<style scoped>\n    .page{width:100%;height:100vh;overflow:hidden;}\n    .search-header{width:100%;height:1rem;background:#FFFFFF;display: flex;display: -webkit-flex;align-items: center;-webkit-align-items: center;border-bottom: 1px solid #EFEFEF;}\n    .search-header .back{width:0.8rem;height:0.8rem;background-image: url(\"../../../assets/images/home/goods/back.png\");background-size:100%;background-repeat: no-repeat;background-position: center;}\n    .search-header .search{width:80%;height:0.69rem;border:solid 1px #B2B2B2;border-radius: 0.1rem;font-size:0.28rem;color:#626262;line-height:0.69rem;padding-left:0.2rem;}\n\n    .goods-main{width:100%;height:92.5vh;display:flex;display:-webkit-flex;}\n    .goods-main .classify-wrap{width:1.72rem;height:100%;overflow:hidden;margin-right:3%;position:relative;z-index:1;}\n    .goods-main .classify-wrap .classify-item{width:100%;height:0.8rem;border-bottom: 1px solid #EFEFEF;background-color:#FFFFFF;font-size:0.28rem;text-align: center;line-height:0.8rem;overflow:hidden;}\n    .goods-main .classify-wrap .classify-item.active{color:#ff0000}\n    .goods-main .goods-content{width:71%;height:100%;}\n</style>"]}]}