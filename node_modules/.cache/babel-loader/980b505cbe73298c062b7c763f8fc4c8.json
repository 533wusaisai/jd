{"remainingRequest":"/Users/wusaisai/Desktop/jd/node_modules/babel-loader/lib/index.js!/Users/wusaisai/Desktop/jd/node_modules/eslint-loader/index.js??ref--13-0!/Users/wusaisai/Desktop/jd/src/assets/js/utils/request.js","dependencies":[{"path":"/Users/wusaisai/Desktop/jd/src/assets/js/utils/request.js","mtime":1594613525921},{"path":"/Users/wusaisai/Desktop/jd/node_modules/cache-loader/dist/cjs.js","mtime":1582343728286},{"path":"/Users/wusaisai/Desktop/jd/node_modules/babel-loader/lib/index.js","mtime":1585552045769},{"path":"/Users/wusaisai/Desktop/jd/node_modules/eslint-loader/index.js","mtime":1582272560345}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsIjsKLy8g6YCa55So6K+35rGC5bCB6KOFCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CnZhciBsYXp5SW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvYWQnKTsKZXhwb3J0IGZ1bmN0aW9uIHJlcXVlc3QodXJsKSB7CiAgdmFyIG1ldGhvZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogImdldCI7CiAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICB2YXIgY29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBhcmd1bWVudHNbM10gOiB1bmRlZmluZWQ7CiAgbGF6eUltZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICByZXR1cm4gYXhpb3NSZXF1ZXN0KHVybCwgbWV0aG9kLCBkYXRhLCBjb25maWcpOwp9CgpmdW5jdGlvbiBheGlvc1JlcXVlc3QodXJsLCBtZXRob2QsIGRhdGEsIGNvbmZpZykgewogIGlmIChtZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gJ3Bvc3QnKSB7CiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIE9iamVjdCkgewogICAgICAvLyDmtY/op4jlmajlhbzlrrkgZXM26L2sZXM1CiAgICAgIHZhciBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7CgogICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkgewogICAgICAgIHBhcmFtcy5hcHBlbmQoa2V5LCBkYXRhW2tleV0pOwogICAgICB9CgogICAgICBkYXRhID0gcGFyYW1zOwogICAgfQogIH0gZWxzZSBpZiAobWV0aG9kLnRvTG93ZXJDYXNlKCkgPT09ICdmaWxlJykgewogICAgbWV0aG9kID0gJ3Bvc3QnOwoKICAgIGlmIChkYXRhIGluc3RhbmNlb2YgT2JqZWN0KSB7CiAgICAgIHZhciBfcGFyYW1zID0gbmV3IEZvcm1EYXRhKCk7CgogICAgICBmb3IgKHZhciBfa2V5IGluIGRhdGEpIHsKICAgICAgICBfcGFyYW1zLmFwcGVuZChfa2V5LCBkYXRhW19rZXldKTsKICAgICAgfQoKICAgICAgZGF0YSA9IF9wYXJhbXM7CiAgICB9CiAgfQoKICB2YXIgYXhpb3NDb25maWcgPSB7CiAgICB1cmw6IHVybCwKICAgIG1ldGhvZDogbWV0aG9kLnRvTG93ZXJDYXNlKCksCiAgICBkYXRhOiBkYXRhCiAgfTsKCiAgaWYgKGNvbmZpZyBpbnN0YW5jZW9mIE9iamVjdCkgewogICAgZm9yICh2YXIgX2tleTIgaW4gY29uZmlnKSB7CiAgICAgIGF4aW9zQ29uZmlnW19rZXkyXSA9IGNvbmZpZ1tfa2V5Ml07CiAgICB9CiAgfQoKICByZXR1cm4gYXhpb3MoYXhpb3NDb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgbGF6eUltZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgcmV0dXJuIHJlcy5kYXRhOwogIH0pOwp9"},{"version":3,"sources":["/Users/wusaisai/Desktop/jd/src/assets/js/utils/request.js"],"names":["axios","lazyImg","document","querySelector","request","url","method","data","config","style","display","axiosRequest","toLowerCase","Object","params","URLSearchParams","key","append","FormData","axiosConfig","then","res"],"mappings":";;;;AAAA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAIC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAd;AACA,OAAO,SAASC,OAAT,CAAiBC,GAAjB,EAA8C;AAAA,MAAzBC,MAAyB,uEAAlB,KAAkB;AAAA,MAAZC,IAAY;AAAA,MAAPC,MAAO;AACjDP,EAAAA,OAAO,CAACQ,KAAR,CAAcC,OAAd,GAAwB,OAAxB;AACA,SAAOC,YAAY,CAACN,GAAD,EAAKC,MAAL,EAAYC,IAAZ,EAAiBC,MAAjB,CAAnB;AACH;;AACD,SAASG,YAAT,CAAsBN,GAAtB,EAA0BC,MAA1B,EAAiCC,IAAjC,EAAsCC,MAAtC,EAA6C;AACzC,MAAGF,MAAM,CAACM,WAAP,OAAuB,MAA1B,EAAiC;AAC7B,QAAGL,IAAI,YAAYM,MAAnB,EAA0B;AACtB;AACA,UAAIC,MAAM,GAAC,IAAIC,eAAJ,EAAX;;AACA,WAAK,IAAIC,GAAT,IAAgBT,IAAhB,EAAqB;AACjBO,QAAAA,MAAM,CAACG,MAAP,CAAcD,GAAd,EAAmBT,IAAI,CAACS,GAAD,CAAvB;AACH;;AACDT,MAAAA,IAAI,GAAGO,MAAP;AACH;AACJ,GATD,MASM,IAAGR,MAAM,CAACM,WAAP,OAAuB,MAA1B,EAAiC;AACnCN,IAAAA,MAAM,GAAG,MAAT;;AACA,QAAGC,IAAI,YAAYM,MAAnB,EAA0B;AACtB,UAAIC,OAAM,GAAG,IAAII,QAAJ,EAAb;;AACA,WAAK,IAAIF,IAAT,IAAgBT,IAAhB,EAAqB;AACjBO,QAAAA,OAAM,CAACG,MAAP,CAAcD,IAAd,EAAmBT,IAAI,CAACS,IAAD,CAAvB;AACH;;AACDT,MAAAA,IAAI,GAAGO,OAAP;AACH;AACJ;;AACD,MAAIK,WAAW,GAAG;AACdd,IAAAA,GAAG,EAAEA,GADS;AAEdC,IAAAA,MAAM,EAAEA,MAAM,CAACM,WAAP,EAFM;AAGdL,IAAAA,IAAI,EAAEA;AAHQ,GAAlB;;AAKA,MAAIC,MAAM,YAAYK,MAAtB,EAA6B;AACzB,SAAK,IAAIG,KAAT,IAAgBR,MAAhB,EAAuB;AACnBW,MAAAA,WAAW,CAACH,KAAD,CAAX,GAAiBR,MAAM,CAACQ,KAAD,CAAvB;AACH;AACJ;;AACD,SAAOhB,KAAK,CAACmB,WAAD,CAAL,CAAmBC,IAAnB,CAAwB,UAAAC,GAAG,EAAE;AAChCpB,IAAAA,OAAO,CAACQ,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACA,WAAOW,GAAG,CAACd,IAAX;AACH,GAHM,CAAP;AAIH","sourcesContent":["// 通用请求封装\n\nimport axios from 'axios'\n\nlet lazyImg = document.querySelector('.load')\nexport function request(url,method=\"get\",data,config){\n    lazyImg.style.display = 'block'\n    return axiosRequest(url,method,data,config)\n}\nfunction axiosRequest(url,method,data,config){\n    if(method.toLowerCase()==='post'){\n        if(data instanceof Object){\n            // 浏览器兼容 es6转es5\n            let params=new URLSearchParams();\n            for (let key in data){\n                params.append(key, data[key]);\n            }\n            data = params\n        }\n    }else if(method.toLowerCase()==='file'){\n        method = 'post'\n        if(data instanceof Object){\n            let params = new FormData();\n            for (let key in data){\n                params.append(key, data[key]);\n            }\n            data = params;\n        }\n    }\n    let axiosConfig = {\n        url: url,\n        method: method.toLowerCase(),\n        data: data\n    }\n    if (config instanceof Object){\n        for (let key in config){\n            axiosConfig[key]=config[key];\n        }\n    }\n    return axios(axiosConfig).then(res=>{\n        lazyImg.style.display = 'none'\n        return res.data\n    })\n}"]}]}